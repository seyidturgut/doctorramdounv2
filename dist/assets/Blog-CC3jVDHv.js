import{r as w,j as t,m as S,A as U}from"./framer-xwVxgadf.js";import{S as K}from"./SectionWrapper-H4kLcLVV.js";import{u as F,a as A,g as H}from"./index-DWxmxzSR.js";import{s as G,n as B,l as V,X as Q}from"./ui-DIjJgyu-.js";import"./vendor-B--z-fyW.js";function L(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(e.marks===void 0||Array.isArray(e.marks)&&e.marks.every(l=>typeof l=="string"))}function C(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(l=>typeof l._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(l=>typeof l=="object"&&"_type"in l)}function O(e){return C(e)&&"listItem"in e&&typeof e.listItem=="string"&&(e.level===void 0||typeof e.level=="number")}function q(e){return e._type==="@list"}function z(e){return e._type==="@span"}function W(e){return e._type==="@text"}const M=["strong","em","code","underline","strike-through"];function X(e,l,n){if(!L(e)||!e.marks||!e.marks.length)return[];let s=e.marks.slice(),c={};return s.forEach(r=>{c[r]=1;for(let m=l+1;m<n.length;m++){let u=n[m];if(u&&L(u)&&Array.isArray(u.marks)&&u.marks.indexOf(r)!==-1)c[r]++;else break}}),s.sort((r,m)=>J(c,r,m))}function J(e,l,n){let s=e[l],c=e[n];if(s!==c)return c-s;let r=M.indexOf(l),m=M.indexOf(n);return r===m?l.localeCompare(n):r-m}function Y(e){var m;let{children:l}=e,n=e.markDefs??[];if(!l||!l.length)return[];let s=l.map(X),c={_type:"@span",children:[],markType:"<unknown>"},r=[c];for(let u=0;u<l.length;u++){let g=l[u];if(!g)continue;let k=s[u]||[],b=1;if(r.length>1)for(;b<r.length;b++){let a=((m=r[b])==null?void 0:m.markKey)||"",o=k.indexOf(a);if(o===-1)break;k.splice(o,1)}r=r.slice(0,b);let i=r[r.length-1];if(i){for(let a of k){let o=n==null?void 0:n.find(d=>d._key===a),h={_type:"@span",_key:g._key,children:[],markDef:o,markType:o?o._type:a,markKey:a};i.children.push(h),r.push(h),i=h}if(L(g)){let a=g.text.split(`
`);for(let o=a.length;o-- >1;)a.splice(o,0,`
`);i.children=i.children.concat(a.map(o=>({_type:"@text",text:o})))}else i.children=i.children.concat(g)}}return c.children}function Z(e,l){let n=[],s;for(let c=0;c<e.length;c++){let r=e[c];if(r){if(!O(r)){n.push(r),s=void 0;continue}if(!s){s=T(r,c,l),n.push(s);continue}if(ee(r,s)){s.children.push(r);continue}if((r.level||1)>s.level){let m=T(r,c,l);if(l==="html"){let u=s.children[s.children.length-1],g={...u,children:[...u.children,m]};s.children[s.children.length-1]=g}else s.children.push(m);s=m;continue}if((r.level||1)<s.level){let m=n[n.length-1],u=m&&D(m,r);if(u){s=u,s.children.push(r);continue}s=T(r,c,l),n.push(s);continue}if(r.listItem!==s.listItem){let m=n[n.length-1],u=m&&D(m,{level:r.level||1});if(u&&u.listItem===r.listItem){s=u,s.children.push(r);continue}else{s=T(r,c,l),n.push(s);continue}}console.warn("Unknown state encountered for block",r),n.push(r)}}return n}function ee(e,l){return(e.level||1)===l.level&&e.listItem===l.listItem}function T(e,l,n){return{_type:"@list",_key:`${e._key||`${l}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function D(e,l){let n=l.level||1,s=l.listItem||"normal",c=typeof l.listItem=="string";if(q(e)&&(e.level||1)===n&&c&&(e.listItem||"normal")===s)return e;if(!("children"in e))return;let r=e.children[e.children.length-1];return r&&!L(r)?D(r,l):void 0}function P(e){let l="";return e.children.forEach(n=>{W(n)?l+=n.text:z(n)&&(l+=P(n))}),l}const te="html",le={number:({children:e})=>t.jsx("ol",{children:e}),bullet:({children:e})=>t.jsx("ul",{children:e})},ne=({children:e})=>t.jsx("li",{children:e}),se=({children:e,value:l})=>t.jsx("a",{href:l==null?void 0:l.href,children:e}),re={textDecoration:"underline"},ie={em:({children:e})=>t.jsx("em",{children:e}),strong:({children:e})=>t.jsx("strong",{children:e}),code:({children:e})=>t.jsx("code",{children:e}),underline:({children:e})=>t.jsx("span",{style:re,children:e}),"strike-through":({children:e})=>t.jsx("del",{children:e}),link:se},N=(e,l)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${l}\` prop`,R=e=>N(`block type "${e}"`,"types"),ae=e=>N(`mark type "${e}"`,"marks"),oe=e=>N(`block style "${e}"`,"block"),ce=e=>N(`list style "${e}"`,"list"),de=e=>N(`list item style "${e}"`,"listItem");function me(e){console.warn(e)}const ue={display:"none"},$={types:{},block:{normal:({children:e})=>t.jsx("p",{children:e}),blockquote:({children:e})=>t.jsx("blockquote",{children:e}),h1:({children:e})=>t.jsx("h1",{children:e}),h2:({children:e})=>t.jsx("h2",{children:e}),h3:({children:e})=>t.jsx("h3",{children:e}),h4:({children:e})=>t.jsx("h4",{children:e}),h5:({children:e})=>t.jsx("h5",{children:e}),h6:({children:e})=>t.jsx("h6",{children:e})},marks:ie,list:le,listItem:ne,hardBreak:()=>t.jsx("br",{}),unknownType:({value:e,isInline:l})=>{let n=R(e._type);return t.jsx(l?"span":"div",{style:ue,children:n})},unknownMark:({markType:e,children:l})=>t.jsx("span",{className:`unknown__pt__mark__${e}`,children:l}),unknownList:({children:e})=>t.jsx("ul",{children:e}),unknownListItem:({children:e})=>t.jsx("li",{children:e}),unknownBlockStyle:({children:e})=>t.jsx("p",{children:e})};function he(e,l){let{block:n,list:s,listItem:c,marks:r,types:m,...u}=l;return{...e,block:_(e,l,"block"),list:_(e,l,"list"),listItem:_(e,l,"listItem"),marks:_(e,l,"marks"),types:_(e,l,"types"),...u}}function _(e,l,n){let s=l[n],c=e[n];return typeof s=="function"||s&&typeof c=="function"?s:s?{...c,...s}:c}function xe({value:e,components:l,listNestingMode:n,onMissingComponent:s=me}){let c=s||pe,r=Z(Array.isArray(e)?e:[e],n||te),m=w.useMemo(()=>l?he($,l):$,[l]),u=w.useMemo(()=>fe(m,c),[m,c]);return t.jsx(t.Fragment,{children:r.map((g,k)=>u({node:g,index:k,isInline:!1,renderNode:u}))})}const fe=(e,l)=>{function n(i){let{node:a,index:o,isInline:h}=i,d=a._key||`node-${o}`;return q(a)?r(a,o,d):O(a)?c(a,o,d):z(a)?m(a,o,d):s(a)?b(a,o,d,h):C(a)?u(a,o,d,h):W(a)?g(a,d):k(a,o,d,h)}function s(i){return i._type in e.types}function c(i,a,o){let h=E({node:i,index:a,isInline:!1,renderNode:n}),d=e.listItem,f=(typeof d=="function"?d:d[i.listItem])||e.unknownListItem;if(f===e.unknownListItem){let y=i.listItem||"bullet";l(de(y),{type:y,nodeType:"listItemStyle"})}let p=h.children;if(i.style&&i.style!=="normal"){let{listItem:y,...v}=i;p=n({node:v,index:a,isInline:!1})}return t.jsx(f,{value:i,index:a,isInline:!1,renderNode:n,children:p},o)}function r(i,a,o){let h=i.children.map((p,y)=>n({node:p._key?p:{...p,_key:`li-${a}-${y}`},index:y,isInline:!1})),d=e.list,f=(typeof d=="function"?d:d[i.listItem])||e.unknownList;if(f===e.unknownList){let p=i.listItem||"bullet";l(ce(p),{nodeType:"listStyle",type:p})}return t.jsx(f,{value:i,index:a,isInline:!1,renderNode:n,children:h},o)}function m(i,a,o){let{markDef:h,markType:d,markKey:f}=i,p=e.marks[d]||e.unknownMark,y=i.children.map((v,I)=>n({node:v,index:I,isInline:!0}));return p===e.unknownMark&&l(ae(d),{nodeType:"mark",type:d}),t.jsx(p,{text:P(i),value:h,markType:d,markKey:f,renderNode:n,children:y},o)}function u(i,a,o,h){let{_key:d,...f}=E({node:i,index:a,isInline:h,renderNode:n}),p=f.node.style||"normal",y=(typeof e.block=="function"?e.block:e.block[p])||e.unknownBlockStyle;return y===e.unknownBlockStyle&&l(oe(p),{nodeType:"blockStyle",type:p}),t.jsx(y,{...f,value:f.node,renderNode:n},o)}function g(i,a){if(i.text===`
`){let o=e.hardBreak;return o?t.jsx(o,{},a):`
`}return i.text}function k(i,a,o,h){let d={value:i,isInline:h,index:a,renderNode:n};l(R(i._type),{nodeType:"block",type:i._type});let f=e.unknownType;return t.jsx(f,{...d},o)}function b(i,a,o,h){let d={value:i,isInline:h,index:a,renderNode:n},f=e.types[i._type];return f?t.jsx(f,{...d},o):null}return n};function E(e){let{node:l,index:n,isInline:s,renderNode:c}=e,r=Y(l).map((m,u)=>c({node:m,isInline:!0,index:u,renderNode:c}));return{_key:l._key||`block-${n}`,children:r,index:n,isInline:s,node:l}}function pe(){}const we=({onOpenBio:e,activePost:l,onPostChange:n})=>{var y,v,I;const{language:s,t:c,dir:r}=F(),[m,u]=w.useState(null),[g,k]=w.useState([]),[b,i]=w.useState(!0);w.useEffect(()=>{(async()=>{try{const j=await H();k(j)}catch(j){console.error("Error fetching posts:",j)}finally{i(!1)}})()},[]),w.useEffect(()=>{u(l?l._id:null)},[l]);const a=x=>{u(x._id),n&&n(x)},o=()=>{u(null),n&&n(null)},h=g.filter(x=>x.language===s),d=m?h.find(x=>x._id===m)||((l==null?void 0:l._id)===m?l:null):null;if(!b&&h.length===0)return null;const f=h.slice(0,3);h.slice(3);const p={month:"short",day:"numeric",year:"numeric"};return t.jsxs(K,{id:"blog",bg:"gray",className:"py-20",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold font-heading text-slate-800 mb-2 opacity-90",children:((y=c.blog_section)==null?void 0:y.title)||(s==="ar"?"المقالات الطبية":"Medical Insights")}),t.jsx("div",{className:"w-16 h-1 bg-gray-300 mx-auto rounded-full"})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:b?[...Array(3)].map((x,j)=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm h-96 animate-pulse",children:[t.jsx("div",{className:"h-48 bg-gray-200 rounded-t-xl"}),t.jsxs("div",{className:"p-5",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),t.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"})]})]},j)):f.map(x=>{var j;return t.jsxs(S.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden flex flex-col h-full border border-gray-100 group cursor-pointer",onClick:()=>a(x),children:[t.jsx("div",{className:"h-48 overflow-hidden relative",children:x.mainImage?t.jsx("img",{src:A(x.mainImage).width(400).height(300).url(),alt:x.title,className:"w-full h-full object-cover transition-all duration-700 opacity-90 group-hover:opacity-100 group-hover:scale-105",loading:"lazy"}):t.jsx("div",{className:"w-full h-full bg-slate-100 flex items-center justify-center",children:t.jsx("span",{className:"text-slate-300 font-bold",children:"Dr. Ramdoun"})})}),t.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[t.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3",children:[t.jsx(G,{size:12,className:"text-gray-400"}),t.jsx("span",{children:new Date(x.publishedAt||Date.now()).toLocaleDateString(s==="ar"?"ar-EG":"en-US",p)})]}),t.jsx("h3",{className:"text-base font-bold font-heading text-slate-800 mb-2 line-clamp-2 leading-tight group-hover:text-medical-secondary transition-colors",children:x.title}),t.jsx("div",{className:"text-gray-500 text-sm leading-relaxed mb-4 line-clamp-2",children:t.jsx("p",{children:"Click to read more..."})}),t.jsx("div",{className:"mt-auto pt-4 border-t border-gray-50 flex items-center justify-between",children:t.jsxs("span",{className:"text-xs font-bold text-medical-primary group-hover:text-medical-secondary transition-colors inline-flex items-center gap-1",children:[((j=c.blog_section)==null?void 0:j.read_more)||"Read Article",t.jsx(B,{size:12,className:`transition-transform ${s==="ar"?"rotate-180":""}`})]})})]})]},x._id)})}),t.jsxs("div",{className:"max-w-3xl mx-auto mt-12 bg-white rounded-xl border border-medical-secondary/20 p-6 md:p-8 flex flex-col md:flex-row items-center gap-6 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-medical-secondary/10 flex items-center justify-center shrink-0",children:t.jsx(V,{className:"text-medical-secondary w-6 h-6"})}),t.jsx("div",{className:"text-center md:text-start flex-grow",children:t.jsx("p",{className:"text-slate-700 font-medium text-lg",children:((v=c.blog_section)==null?void 0:v.soft_cta)||"Have questions about these conditions?"})}),t.jsxs("button",{onClick:()=>window.open("https://wa.me/905539362222","_blank"),className:"inline-flex items-center gap-2 text-medical-secondary font-bold hover:text-medical-primary transition-colors whitespace-nowrap",children:[((I=c.blog_section)==null?void 0:I.btn_ask)||"Ask a Question",t.jsx(B,{size:18,className:s==="ar"?"rotate-180":""})]})]}),t.jsx(U,{children:d&&t.jsx(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-6 bg-black/60 backdrop-blur-sm",onClick:o,children:t.jsxs(S.div,{initial:{opacity:0,y:50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.95},onClick:x=>x.stopPropagation(),className:"bg-white w-full max-w-4xl h-full md:h-[90vh] md:rounded-2xl shadow-2xl overflow-hidden relative flex flex-col",dir:r,children:[t.jsx("button",{onClick:o,className:"absolute top-4 right-4 z-50 p-2 bg-white/80 backdrop-blur rounded-full text-slate-900 hover:bg-slate-100 transition-colors shadow-sm rtl:right-auto rtl:left-4",children:t.jsx(Q,{size:24})}),t.jsxs("div",{className:"overflow-y-auto h-full customs-scroll",children:[(d==null?void 0:d.mainImage)&&t.jsxs("div",{className:"w-full h-64 md:h-80 relative",children:[t.jsx("img",{src:A(d.mainImage).width(1200).height(800).url(),alt:"Article Cover",className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),t.jsxs("div",{className:"absolute bottom-6 left-6 right-6 text-white rtl:text-right",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium mb-2 opacity-90",children:[t.jsx("span",{className:"bg-medical-secondary px-3 py-1 rounded-full text-white text-xs font-bold",children:s==="ar"?"طب وصحة":"Medical & Health"}),t.jsx("span",{children:new Date(d.publishedAt||Date.now()).toLocaleDateString(s==="ar"?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsx("h2",{className:"text-2xl md:text-4xl font-bold font-heading leading-tight shadow-sm",children:d.title})]})]}),t.jsxs("div",{className:"p-6 md:p-10 lg:p-12",children:[t.jsx("div",{className:"flex items-center justify-between border-b border-gray-100 pb-8 mb-8",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 overflow-hidden border-2 border-medical-secondary/20",children:t.jsx("img",{src:"/favicon.png",alt:"Author",className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:s==="ar"?"كتب بواسطة":"Written by"}),t.jsx("button",{onClick:()=>{o(),e()},className:"text-medical-primary font-bold hover:text-medical-secondary transition-colors text-sm",children:s==="ar"?"د. عبد العليم رمضان":"Dr. Abdulalim Ramdoun"})]})]})}),t.jsx("div",{className:"prose prose-lg prose-slate max-w-none prose-headings:font-heading prose-headings:font-bold prose-headings:text-medical-primary prose-a:text-medical-secondary hover:prose-a:text-medical-primary prose-img:rounded-2xl prose-img:shadow-lg prose-img:my-8 prose-li:marker:text-medical-secondary prose-strong:text-medical-primary prose-strong:font-bold prose-blockquote:border-l-4 prose-blockquote:border-medical-secondary prose-blockquote:bg-gray-50 prose-blockquote:py-2 prose-blockquote:px-4 prose-blockquote:rounded-r-lg",children:t.jsx(xe,{value:d.body,components:{types:{image:({value:x})=>t.jsx("img",{src:A(x).url(),className:"rounded-lg shadow-md my-4"})}}})})]})]})]})})})]})};export{we as Blog};
